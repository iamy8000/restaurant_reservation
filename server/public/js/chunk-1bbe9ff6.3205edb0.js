(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bbe9ff6"],{"54e2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signin"},[a("div",{staticClass:"signin-form"},[a("div",{staticClass:"signin-container"},[t._m(0),a("div",{staticClass:"signin-card"},[a("validation-observer",{ref:"formvalidation",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"signin-content"},[a("div",{staticClass:"all-wrapper"},[a("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,n=e.classes;return[a("label",{staticClass:"all-text",attrs:{for:"email"}},[t._v("電子郵件")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"all-input",class:n,attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s[0]?a("span",{staticClass:"invalid-text"},[t._v(t._s(s[0].replace("email ","電子郵件")))]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"all-wrapper"},[a("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,n=e.classes;return[a("label",{staticClass:"all-text",attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"all-input",class:n,attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s[0]?a("span",{staticClass:"invalid-text"},[t._v(t._s(s[0].replace("password ","密碼")))]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"submit-button-wrapper"},[a("button",{staticClass:"submit-button",attrs:{type:"submit",disabled:s},on:{click:function(e){return e.preventDefault(),t.signin(e)}}},[a("div",{staticClass:"button"},[t._v("登入")])])]),a("div",{staticClass:"text-wrapper"},[a("span",{staticClass:"text"},[t._v("還沒有帳號嗎？")]),a("span",{staticClass:"text register",on:{click:function(e){return t.$router.push("/signup")}}},[t._v("立即註冊")])])])]}}])}),a("div",{staticClass:"social-media-signin"},[a("div",{staticClass:"text"},[t._v("使用社群帳號快速登入")]),a("div",{staticClass:"social-button google",on:{click:t.signInByGoogle}},[a("img",{attrs:{src:s("d57a")}}),t._m(1)]),a("div",{staticClass:"social-button google",on:{click:t.signInByFacebook}},[a("img",{attrs:{src:s("e944")}}),t._m(2)])])],1)])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo-wrapper"},[s("div",{staticClass:"logo"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button"},[s("span",[t._v("使用 Google 帳號登入")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button"},[s("span",[t._v("使用 Facebook 帳號登入")])])}],i=(s("96cf"),s("1da1")),r=s("7696"),o=s("2fa3"),c={data:function(){return{email:"",password:""}},methods:{signin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].signIn({email:t.email,password:t.password});case 3:if(s=e.sent,a=s.data,"success"===a.status){e.next=8;break}throw t.password="",new Error(a.message);case 8:localStorage.setItem("token",a.token),t.$store.commit("setCurrentUser",a.user),t.$router.push("/"),o["a"].fire({icon:"success",title:"登入成功"}),e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),t.password="",t.isProcessing=!1,o["a"].fire({icon:"warning",title:"請確認您輸入了正確的電子郵件與密碼"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))()},signInByFacebook:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="http://localhost:3000/api/auth/facebook"}catch(e){o["a"].fire({icon:"warning",title:"暫時無法使用 Facebook 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()},signInByGoogle:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="http://localhost:3000/api/auth/google"}catch(e){o["a"].fire({icon:"warning",title:"暫時無法使用 Google 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()}}},l=c,u=(s("bff1"),s("2877")),p=Object(u["a"])(l,a,n,!1,null,null,null);e["default"]=p.exports},7696:function(t,e,s){"use strict";var a=s("2fa3");e["a"]={signIn:function(t){var e=t.email,s=t.password;return a["b"].post("/signin",{email:e,password:s})},signUp:function(t){return a["b"].post("/signup",t)},signInByFacebook:function(){return a["b"].get("/auth/facebook")},callBackFromFacebook:function(){return a["b"].get("/auth/facebook/callback")}}},"816f":function(t,e,s){},bff1:function(t,e,s){"use strict";s("816f")},d57a:function(t,e,s){t.exports=s.p+"img/google-signin.3a8ae245.svg"},e944:function(t,e,s){t.exports=s.p+"img/facebook-signin.c341186f.svg"}}]);
//# sourceMappingURL=chunk-1bbe9ff6.3205edb0.js.map