(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bbe9ff6"],{"54e2":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"signin"},[e("div",{staticClass:"signin-form"},[e("div",{staticClass:"signin-container"},[e("div",{staticClass:"signin-wrapper"},[e("div",{staticClass:"logo-container"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",on:{click:function(s){t.$router.push("/").catch((function(){}))}}},[e("span",{staticClass:"company-first-name"},[t._v("Meal")]),e("span",{staticClass:"company-last-name"},[t._v("Finder")])])])]),e("div",{staticClass:"signin-card"},[e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(s){var a=s.handleSubmit;return[e("form",{staticClass:"signin-content",on:{submit:function(s){return s.preventDefault(),a(t.signin)}}},[e("div",{staticClass:"all-wrapper"},[e("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,n=s.classes;return[e("label",{staticClass:"all-text",attrs:{for:"email"}},[t._v("電子郵件")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"all-input",class:n,attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),a[0]?e("span",{staticClass:"invalid-text"},[t._v(t._s(a[0].replace("email ","電子郵件")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"all-wrapper"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,n=s.classes;return[e("label",{staticClass:"all-text",attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"all-input",class:n,attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),a[0]?e("span",{staticClass:"invalid-text"},[t._v(t._s(a[0].replace("password ","密碼")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"submit-button-wrapper"},[e("button",{staticClass:"submit-button",attrs:{type:"submit"}},[e("div",{staticClass:"button"},[t._v("登入")])])]),e("div",{staticClass:"text-wrapper"},[e("span",{staticClass:"text"},[t._v("還沒有帳號嗎？")]),e("span",{staticClass:"text register",on:{click:function(s){return t.$router.push("/signup")}}},[t._v("立即註冊")])])])]}}])}),e("div",{staticClass:"social-media-signin"},[e("div",{staticClass:"text"},[t._v("使用社群帳號快速登入")]),e("div",{staticClass:"social-button google",on:{click:t.signInByGoogle}},[e("img",{attrs:{src:a("d57a")}}),t._m(0)]),e("div",{staticClass:"social-button google",on:{click:t.signInByFacebook}},[e("img",{attrs:{src:a("e944")}}),t._m(1)])])],1)])])])])},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"button"},[a("span",[t._v("使用 Google 帳號登入")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"button"},[a("span",[t._v("使用 Facebook 帳號登入")])])}],i=(a("96cf"),a("1da1")),r=a("7696"),o=a("2fa3"),c={data:function(){return{email:"",password:""}},methods:{signin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r["a"].signIn({email:t.email,password:t.password});case 3:if(a=s.sent,e=a.data,"success"===e.status){s.next=8;break}throw t.password="",new Error(e.message);case 8:localStorage.setItem("token",e.token),t.$store.commit("setCurrentUser",e.user),t.$router.push("/"),o["a"].fire({icon:"success",title:"登入成功"}),s.next=19;break;case 14:s.prev=14,s.t0=s["catch"](0),t.password="",t.isProcessing=!1,o["a"].fire({icon:"warning",title:"請確認您輸入了正確的電子郵件與密碼"});case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()},signInByFacebook:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="http://localhost:3000/api/auth/facebook"}catch(s){o["a"].fire({icon:"warning",title:"暫時無法使用 Facebook 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()},signInByGoogle:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="http://localhost:3000/api/auth/google"}catch(s){o["a"].fire({icon:"warning",title:"暫時無法使用 Google 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()}}},l=c,u=(a("bff1"),a("2877")),p=Object(u["a"])(l,e,n,!1,null,null,null);s["default"]=p.exports},7696:function(t,s,a){"use strict";var e=a("2fa3");s["a"]={signIn:function(t){var s=t.email,a=t.password;return e["b"].post("/signin",{email:s,password:a})},signUp:function(t){return e["b"].post("/signup",t)},signInByFacebook:function(){return e["b"].get("/auth/facebook")},callBackFromFacebook:function(){return e["b"].get("/auth/facebook/callback")}}},"816f":function(t,s,a){},bff1:function(t,s,a){"use strict";a("816f")},d57a:function(t,s,a){t.exports=a.p+"img/google-signin.3a8ae245.svg"},e944:function(t,s,a){t.exports=a.p+"img/facebook-signin.c341186f.svg"}}]);
//# sourceMappingURL=chunk-1bbe9ff6.d3d1d50c.js.map